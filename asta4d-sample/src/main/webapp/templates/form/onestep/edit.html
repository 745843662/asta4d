<html>
<head>
<meta charset="utf-8" />
</head>
<body>
<afd:extension parent="/layout/common.html">
	<afd:block override="content-title">
		One step edit form
	</afd:block>
	<afd:block override="content-detail">
		<div class="panel panel-warning">
			<div class="panel-heading"><h3>Input</h3></div>
			<div class="panel-body">
				<div class="block-main">
				<section>
					<article>
						<!-- @ShowCode:showInputStart -->
						<form method="post" afd:render="form.OneStepFormSnippet">
						<table border=0 class="form-input-table">
							<tr>
								<td>name *:</td>
								<td class="name">
									<input name="name" type="text"/>(length less than 6)
									<!-- custom error message tag(default id as xxx-err-msg) -->
									<div><span id="name-err-msg" class="label label-danger"></span></div>
								</td>
							</tr>
							<tr>
								<td>age *:</td>
								<td class="age">
									<input name="age" type="text"/>(<=45)
									<!-- custom error message tag(default id as xxx-err-msg) -->
									<div><span id="age-err-msg" class="label label-danger"></span></div>
								</td>
							</tr>
							<tr>
								<td>sex *:</td>
								<td class="sex">
									<input id="sex" name="sex" type="radio"/><label for="sex">M</label>
									<div><span id="sex-err-msg" class="label label-danger"></span></div>
								</td>
							</tr>
							<tr>
								<td>bloodtype *:</td>
								<td class="bloodtype">
									<select id="bloodtype" name="bloodtype">
										<option value="A">A</option>
										<option value="R" afd:clear>R</option>
									</select>
									<div><span id="bloodtype-err-msg" class="label label-danger"></span></div>
								</td>
							</tr>
							<tr>
								<td>language *:</td>
								<td class="language">
									<input id="language" name="language" type="checkbox"/><label for="language">M</label>
									<div><span id="language-err-msg" class="label label-danger"></span></div>
								</td>
							</tr>
							<tr><td>memo:</td><td class="memo">
							<textarea name="memo"></textarea>
							</td></tr>
							<tr><td colspan=2>
								<input type="hidden" name="id">
								<input type="hidden" name="action">
								<afd:embed target="/templates/form/onestep/btns.html" />
							</td></tr>
						</table>
						</form>
						<!-- @ShowCode:showInputEnd -->
					</article>
				</section>
				</div>
				<div class="block-side-comment">
					<afd:embed target="/templates/form/onestep/comment.html" />
				</div>
			</div>
		</div>
		
		<div afd:render="ShowCodeSnippet:showCode" file="/templates/form/onestep/edit.html" startMark="showInputStart" endMark="showInputEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/templates/form/onestep/btns.html" startMark="showBtnsStart" endMark="showBtnsEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/snippet/form/OneStepFormSnippet.java" startMark="showOneStepFormSnippetStart" endMark="showOneStepFormSnippetEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/handler/form/OneStepEditHandler.java" startMark="showOneStepEditHandlerStart" endMark="showOneStepEditHandlerEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/handler/form/PersonForm.java" startMark="showPersonFormStart" endMark="showPersonFormEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/util/persondb/Person.java" startMark="showValidationAnnotationStart" endMark="showValidationAnnotationEnd"/>
		
		<h3>The following shows how to configure the common actions by a common parent class</h3>
		
		<div afd:render="ShowCodeSnippet:showCode" file="/snippet/form/common/CommonFormSnippet.java" startMark="showCommonFormSnippetStart" endMark="showCommonFormSnippetEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/handler/form/common/CommonFormHandler.java" startMark="showCommonFormHandlerStart" endMark="showCommonFormHandlerEnd"/>
		
		<h3>The following shows how to customize validation message generation</h3>
		
		<div afd:render="ShowCodeSnippet:showCode" file="/handler/form/common/SamplePrjTypeUnMatchValidator.java" startMark="showSamplePrjTypeUnMatchValidatorStart" endMark="showSamplePrjTypeUnMatchValidatorEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/handler/form/common/SamplePrjValueValidator.java" startMark="showSamplePrjValueValidatorStart" endMark="showSamplePrjValueValidatorEnd"/>
		<div afd:render="ShowCodeSnippet:showCode" file="/handler/form/common/SamplePrjCommonValidatoinMessageLogics.java" startMark="showCreateAnnotatedMessageStart" endMark="showCreateAnnotatedMessageEnd"/>
	</afd:block>
</body>
</html>